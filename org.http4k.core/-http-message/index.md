[http4k](../../index.md) / [org.http4k.core](../index.md) / [HttpMessage](./index.md)

# HttpMessage

`interface HttpMessage : `[`Closeable`](https://docs.oracle.com/javase/9/docs/api/java/io/Closeable.html)

HttpMessages are designed to be immutable, so any mutation methods return a modified copy of the message.

### Properties

| Name | Summary |
|---|---|
| [body](body.md) | `abstract val body: `[`Body`](../-body/index.md) |
| [headers](headers.md) | `abstract val headers: `[`Headers`](../-headers.md) |
| [version](version.md) | `abstract val version: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html) |

### Functions

| Name | Summary |
|---|---|
| [body](body.md) | (Copy &amp;) sets the body content.`abstract fun body(body: `[`Body`](../-body/index.md)`): `[`HttpMessage`](./index.md)<br>`abstract fun body(body: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`): `[`HttpMessage`](./index.md)<br>`abstract fun body(body: `[`InputStream`](https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html)`, length: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`? = null): `[`HttpMessage`](./index.md) |
| [bodyString](body-string.md) | This will realise any underlying stream.`open fun bodyString(): `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html) |
| [close](close.md) | Closes the request. For server generated messages, this is called by all backend/client implementations, but when consuming external responses in streaming mode, this should be used.`open fun close(): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [header](header.md) | Retrieves the first header value with this name.`open fun header(name: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`): `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`?`<br>(Copy &amp;) Adds a header value with this name.`abstract fun header(name: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, value: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`?): `[`HttpMessage`](./index.md) |
| [headers](headers.md) | (Copy &amp;) Add all passed headers.`abstract fun headers(headers: `[`Headers`](../-headers.md)`): `[`HttpMessage`](./index.md) |
| [headerValues](header-values.md) | Retrieves all header values with this name.`open fun headerValues(name: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`): `[`List`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html)`<`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`?>` |
| [removeHeader](remove-header.md) | (Copy &amp;) remove headers with this name.`abstract fun removeHeader(name: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`): `[`HttpMessage`](./index.md) |
| [replaceHeader](replace-header.md) | (Copy &amp;) Adds a header value with this name, replacing any previously set values.`abstract fun replaceHeader(name: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, value: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`?): `[`HttpMessage`](./index.md) |
| [replaceHeaders](replace-headers.md) | Replace all headers with ones passed.`abstract fun replaceHeaders(source: `[`Headers`](../-headers.md)`): `[`HttpMessage`](./index.md) |
| [toMessage](to-message.md) | Returns a formatted wire representation of this message.`abstract fun toMessage(): `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html) |

### Companion Object Properties

| Name | Summary |
|---|---|
| [HTTP_1_1](-h-t-t-p_1_1.md) | `const val HTTP_1_1: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html) |
| [HTTP_2](-h-t-t-p_2.md) | `const val HTTP_2: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html) |

### Extension Functions

| Name | Summary |
|---|---|
| [alphabetiseHeaders](../alphabetise-headers.md) | `fun <T : `[`HttpMessage`](./index.md)`> T.alphabetiseHeaders(): T` |
| [multipartIterator](../multipart-iterator.md) | `fun `[`HttpMessage`](./index.md)`.multipartIterator(): `[`Iterator`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-iterator/index.html)`<`[`MultipartEntity`](../-multipart-entity/index.md)`>` |
| [shouldHaveBody](../../org.http4k.kotest/should-have-body.md) | `infix fun `[`HttpMessage`](./index.md)`.shouldHaveBody(expected: Matcher<`[`Body`](../-body/index.md)`>): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)<br>`infix fun `[`HttpMessage`](./index.md)`.shouldHaveBody(expected: Matcher<`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`?>): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)<br>`infix fun `[`HttpMessage`](./index.md)`.shouldHaveBody(expected: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)<br>`infix fun `[`HttpMessage`](./index.md)`.shouldHaveBody(expected: `[`Regex`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/index.html)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)<br>`fun <T> `[`HttpMessage`](./index.md)`.shouldHaveBody(lens: `[`BodyLens`](../../org.http4k.lens/-body-lens/index.md)`<T>, matcher: Matcher<T>): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [shouldHaveContentType](../../org.http4k.kotest/should-have-content-type.md) | `infix fun `[`HttpMessage`](./index.md)`.shouldHaveContentType(expected: `[`ContentType`](../-content-type/index.md)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [shouldHaveHeader](../../org.http4k.kotest/should-have-header.md) | `fun <T> `[`HttpMessage`](./index.md)`.shouldHaveHeader(lens: `[`HeaderLens`](../../org.http4k.lens/-header-lens.md)`<T>, matcher: Matcher<T>): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)<br>`fun `[`HttpMessage`](./index.md)`.shouldHaveHeader(name: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, matcher: Matcher<`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`>): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)<br>`fun `[`HttpMessage`](./index.md)`.shouldHaveHeader(name: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, expected: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)<br>`fun `[`HttpMessage`](./index.md)`.shouldHaveHeader(name: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, expected: `[`Regex`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/index.html)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)<br>`infix fun `[`HttpMessage`](./index.md)`.shouldHaveHeader(name: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)<br>`fun `[`HttpMessage`](./index.md)`.shouldHaveHeader(name: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, expected: `[`List`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html)`<`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`?>): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [shouldNotHaveBody](../../org.http4k.kotest/should-not-have-body.md) | `infix fun `[`HttpMessage`](./index.md)`.shouldNotHaveBody(expected: Matcher<`[`Body`](../-body/index.md)`>): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)<br>`infix fun `[`HttpMessage`](./index.md)`.shouldNotHaveBody(expected: Matcher<`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`?>): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)<br>`infix fun `[`HttpMessage`](./index.md)`.shouldNotHaveBody(expected: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)<br>`infix fun `[`HttpMessage`](./index.md)`.shouldNotHaveBody(expected: `[`Regex`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/index.html)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)<br>`fun <T> `[`HttpMessage`](./index.md)`.shouldNotHaveBody(lens: `[`BodyLens`](../../org.http4k.lens/-body-lens/index.md)`<T>, matcher: Matcher<T>): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [shouldNotHaveContentType](../../org.http4k.kotest/should-not-have-content-type.md) | `infix fun `[`HttpMessage`](./index.md)`.shouldNotHaveContentType(expected: `[`ContentType`](../-content-type/index.md)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [shouldNotHaveHeader](../../org.http4k.kotest/should-not-have-header.md) | `fun <T> `[`HttpMessage`](./index.md)`.shouldNotHaveHeader(lens: `[`HeaderLens`](../../org.http4k.lens/-header-lens.md)`<T>, matcher: Matcher<T>): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)<br>`fun `[`HttpMessage`](./index.md)`.shouldNotHaveHeader(name: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, matcher: Matcher<`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`>): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)<br>`fun `[`HttpMessage`](./index.md)`.shouldNotHaveHeader(name: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, expected: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)<br>`fun `[`HttpMessage`](./index.md)`.shouldNotHaveHeader(name: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, expected: `[`Regex`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/index.html)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)<br>`infix fun `[`HttpMessage`](./index.md)`.shouldNotHaveHeader(name: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)<br>`fun `[`HttpMessage`](./index.md)`.shouldNotHaveHeader(name: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, expected: `[`List`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html)`<`[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`?>): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [with](../with.md) | `fun <T : `[`HttpMessage`](./index.md)`> T.with(vararg modifiers: (T) -> T): T` |

### Inheritors

| Name | Summary |
|---|---|
| [Request](../-request/index.md) | `interface Request : `[`HttpMessage`](./index.md) |
| [Response](../-response/index.md) | `interface Response : `[`HttpMessage`](./index.md) |
